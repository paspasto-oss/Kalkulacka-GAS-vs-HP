<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulačka Úspor - Rebrand</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --maroon: #800020;
            --dark-maroon: #600018;
            --light-bg: #f8f9fa;
            --border-radius: 12px;
        }

        body { font-family: 'Inter', sans-serif; background-color: #eee; padding: 20px; }

        .calculator-card {
            max-width: 800px;
            margin: 0 auto;
            background: #fff;
            border-radius: var(--border-radius);
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            border-top: 8px solid var(--maroon);
        }

        .header {
            background: var(--light-bg);
            padding: 30px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }

        .header h1 { color: var(--maroon); margin: 0; font-size: 24px; }
        .header p { color: #666; margin-top: 10px; }

        .content { padding: 30px; }

        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }

        .input-group { margin-bottom: 20px; }
        .input-group label { display: block; font-weight: 600; margin-bottom: 8px; color: #333; font-size: 14px; }
        .input-group .input-wrapper { position: relative; }
        .input-group i { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--maroon); }
        .input-group input, .input-group select {
            width: 100%; padding: 12px 12px 12px 40px; border: 2px solid #eef0f2;
            border-radius: 8px; font-size: 16px; transition: 0.3s; box-sizing: border-box;
        }
        .input-group input:focus { border-color: var(--maroon); outline: none; }

        .btn-calc {
            width: 100%; background: var(--maroon); color: white; border: none; padding: 18px;
            border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; transition: 0.3s;
        }
        .btn-calc:hover { background: var(--dark-maroon); transform: translateY(-2px); }

        .results-area {
            display: none; margin-top: 30px; padding: 25px;
            background: #fffafa; border: 2px solid var(--maroon); border-radius: 8px;
        }

        .res-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; }
        .res-card { background: white; padding: 15px; border-radius: 8px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .res-card i { font-size: 24px; color: var(--maroon); margin-bottom: 10px; }
        .res-card span { display: block; font-size: 12px; color: #888; text-transform: uppercase; }
        .res-card b { font-size: 18px; color: #222; }

        .vat-note { font-size: 11px; color: #aaa; text-align: center; margin-top: 15px; }

        @media (max-width: 600px) { .grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div class="calculator-card">
    <div class="header">
        <i class="fas fa-leaf" style="font-size: 40px; color: var(--maroon);"></i>
        <h1>Energetická Kalkulačka SR</h1>
        <p>Prechod z plynového vykurovania na tepelné čerpadlo</p>
    </div>

    <div class="content">
        <div class="grid">
            <div class="input-group">
                <label>Ročná spotreba plynu (MWh)</label>
                <div class="input-wrapper">
                    <i class="fas fa-fire"></i>
                    <input type="number" id="gasMwh" value="20" step="0.1">
                </div>
            </div>

            <div class="input-group">
                <label>Vykurovaná plocha (m²)</label>
                <div class="input-wrapper">
                    <i class="fas fa-home"></i>
                    <input type="number" id="area" value="150">
                </div>
            </div>

            <div class="input-group">
                <label>Vek / Izolácia domu</label>
                <div class="input-wrapper">
                    <i class="fas fa-info-circle"></i>
                    <select id="houseType">
                        <option value="1.1">Starý dom (bez zateplenia)</option>
                        <option value="0.95" selected>Čiastočne zateplený</option>
                        <option value="0.85">Novostavba (Štandard)</option>
                        <option value="0.70">Pasívny / Nulový dom</option>
                    </select>
                </div>
            </div>

            <div class="input-group">
                <label>Cena plynu (€/MWh s DPH)</label>
                <div class="input-wrapper">
                    <i class="fas fa-euro-sign"></i>
                    <input type="number" id="priceGas" value="72">
                </div>
            </div>
        </div>

        <button class="btn-calc" onclick="calculateComplex()">
            <i class="fas fa-calculator"></i> Vypočítať úsporu a straty
        </button>

        <div id="results" class="results-area">
            <div class="res-grid">
                <div class="res-card">
                    <i class="fas fa-bolt"></i>
                    <span>Tepelná strata</span>
                    <b id="outLoss">0 kW</b>
                </div>
                <div class="res-card">
                    <i class="fas fa-chart-line"></i>
                    <span>Ročná úspora</span>
                    <b id="outSaving" style="color: green;">0 €</b>
                </div>
                <div class="res-card">
                    <i class="fas fa-hourglass-half"></i>
                    <span>Návratnosť</span>
                    <b id="outROI">0 rokov</b>
                </div>
                <div class="res-card">
                    <i class="fas fa-cloud-sun"></i>
                    <span>Odporúčaný výkon TČ</span>
                    <b id="outPower">0 kW</b>
                </div>
            </div>
            <p class="vat-note">Výpočty sú orientačné a zahŕňajú DPH vo výške 23% platnú v SR.</p>
        </div>
    </div>
</div>

<script>
function calculateComplex() {
    // Načítanie hodnôt
    const gasMwh = parseFloat(document.getElementById('gasMwh').value);
    const area = parseFloat(document.getElementById('area').value);
    const houseMod = parseFloat(document.getElementById('houseType').value);
    const priceGas = parseFloat(document.getElementById('priceGas').value);
    
    // Konštanty pre SR (priemerný COP a cena elektriny v tarife pre TČ)
    const COP = 3.4;
    const priceElecTC = 165; // €/MWh s DPH
    const tcInvestment = 8500; // Priemerná cena TČ po dotácii

    // 1. Výpočet tepelnej straty (logika založená na spotrebe plynu a koeficiente domu)
    // Vzorec: (MWh * účinnosť kotla) / koeficient vykurovacích hodín
    const heatLoss = (gasMwh * 0.92 * 1000) / 2100 * houseMod;

    // 2. Porovnanie nákladov
    const costGasYear = gasMwh * priceGas;
    const heatNeededKwh = gasMwh * 0.92 * 1000; // Čisté teplo v kWh
    const costTCYear = (heatNeededKwh / COP) * (priceElecTC / 1000); // Prepočet na kWh

    const annualSaving = costGasYear - ( (heatNeededKwh / COP) * (priceElecTC / 1000) * 1000 / 1000 ); 
    // Oprava pre jednoduchosť:
    const finalSaving = costGasYear - ((heatNeededKwh / COP) * (priceElecTC / 1000));
    
    const roi = tcInvestment / finalSaving;

    // Zobrazenie výsledkov
    document.getElementById('outLoss').innerText = heatLoss.toFixed(1) + " kW";
    document.getElementById('outSaving').innerText = Math.round(finalSaving) + " € / rok";
    document.getElementById('outROI').innerText = roi > 0 ? roi.toFixed(1) + " rokov" : "N/A";
    document.getElementById('outPower').innerText = (heatLoss * 1.1).toFixed(1) + " kW";

    document.getElementById('results').style.display = 'block';
}
</script>

</body>
</html>
