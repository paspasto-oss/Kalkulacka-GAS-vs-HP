<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #800020; /* Vínová */
            --primary-hover: #600018;
            --bg-light: #f4f7f6;
            --white: #ffffff;
            --text-dark: #2c3e50;
            --border-gray: #e0e0e0;
        }

        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg-light); color: var(--text-dark); margin: 0; padding: 20px; }

        .ref-container { max-width: 900px; margin: 0 auto; background: var(--white); border-radius: 16px; box-shadow: 0 4px 25px rgba(0,0,0,0.08); overflow: hidden; }

        /* Hlavička */
        .ref-header { background: var(--primary); color: var(--white); padding: 30px; text-align: center; }
        .ref-header h1 { margin: 0; font-size: 26px; letter-spacing: 0.5px; }
        .ref-header p { margin: 10px 0 0; opacity: 0.9; font-size: 15px; }

        /* Telo */
        .ref-content { padding: 40px; }

        .ref-step-title { display: flex; align-items: center; margin-bottom: 25px; border-bottom: 2px solid var(--bg-light); padding-bottom: 10px; color: var(--primary); font-weight: bold; font-size: 18px; }
        .ref-step-title i { margin-right: 12px; font-size: 22px; }

        /* Grid a vstupy */
        .ref-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; margin-bottom: 40px; }
        
        .ref-input-group { position: relative; }
        .ref-input-group label { display: block; margin-bottom: 8px; font-size: 14px; font-weight: 600; color: #555; }
        
        .ref-input-wrapper { position: relative; display: flex; align-items: center; }
        .ref-input-wrapper i { position: absolute; left: 15px; color: var(--primary); font-size: 16px; }
        
        .ref-input-wrapper input, .ref-input-wrapper select {
            width: 100%; padding: 12px 15px 12px 45px; border: 1.5px solid var(--border-gray); border-radius: 10px;
            font-size: 16px; outline: none; transition: all 0.2s ease; background: #fafafa;
        }

        .ref-input-wrapper input:focus { border-color: var(--primary); background: #fff; box-shadow: 0 0 0 4px rgba(128, 0, 32, 0.1); }

        /* Tlačidlo */
        .ref-btn {
            display: block; width: 100%; background: var(--primary); color: var(--white); border: none; padding: 18px;
            border-radius: 12px; font-size: 18px; font-weight: bold; cursor: pointer; transition: background 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 12px rgba(128, 0, 32, 0.2);
        }
        .ref-btn:hover { background: var(--primary-hover); transform: translateY(-1px); }

        /* Výsledky */
        .ref-results { display: none; margin-top: 50px; border-radius: 16px; background: #fff; border: 2px solid var(--primary); padding: 30px; animation: fadeIn 0.5s ease; }
        
        .results-summary { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; text-align: center; }
        
        .res-item { padding: 15px; }
        .res-item i { font-size: 28px; color: var(--primary); margin-bottom: 10px; display: block; }
        .res-item span { font-size: 13px; color: #777; text-transform: uppercase; letter-spacing: 1px; }
        .res-item b { font-size: 22px; display: block; margin-top: 5px; color: var(--text-dark); }

        .res-highlight { grid-column: span 3; background: #fff5f7; margin-top: 20px; padding: 25px; border-radius: 12px; border: 1px dashed var(--primary); }
        .res-highlight span { font-size: 16px; font-weight: 600; color: var(--primary); }
        .res-highlight b { font-size: 32px; color: var(--primary); display: block; margin-top: 5px; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) { .ref-grid, .results-summary { grid-template-columns: 1fr; } .res-highlight { grid-column: span 1; } }
    </style>
</head>
<body>

<div class="ref-container">
    <div class="ref-header">
        <h1><i class="fas fa-calculator"></i> Kalkulačka prechodu na TČ</h1>
        <p>Pre porovnanie nákladov medzi plynom a tepelným čerpadlom v SR</p>
    </div>

    <div class="ref-content">
        <div class="ref-step-title"><i class="fas fa-burn"></i> 1. Pôvodný zdroj (Plyn)</div>
        <div class="ref-grid">
            <div class="ref-input-group">
                <label>Ročná spotreba (MWh/rok)</label>
                <div class="ref-input-wrapper">
                    <i class="fas fa-fire-alt"></i>
                    <input type="number" id="mwh" value="25">
                </div>
            </div>
            <div class="ref-input-group">
                <label>Typ plynového kotla</label>
                <div class="ref-input-wrapper">
                    <i class="fas fa-cog"></i>
                    <select id="eff">
                        <option value="0.85">Starý atmosférický (85%)</option>
                        <option value="0.95" selected>Kondenzačný (95%)</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="ref-step-title"><i class="fas fa-bolt"></i> 2. Nový zdroj (Tepelné čerpadlo)</div>
        <div class="ref-grid">
            <div class="ref-input-group">
                <label>Účinnosť TČ (Sezónne COP)</label>
                <div class="ref-input-wrapper">
                    <i class="fas fa-tachometer-alt"></i>
                    <input type="number" id="cop" value="3.4" step="0.1">
                </div>
            </div>
            <div class="ref-input-group">
                <label>Cena plynu (€/MWh s DPH)</label>
                <div class="ref-input-wrapper">
                    <i class="fas fa-euro-sign"></i>
                    <input type="number" id="gasP" value="78">
                </div>
            </div>
            <div class="ref-input-group">
                <label>Cena elektriny pre TČ (€/MWh)</label>
                <div class="ref-input-wrapper">
                    <i class="fas fa-plug"></i>
                    <input type="number" id="elecP" value="165">
                </div>
            </div>
            <div class="ref-input-group">
                <label>Investícia do TČ (€)</label>
                <div class="ref-input-wrapper">
                    <i class="fas fa-wallet"></i>
                    <input type="number" id="inv" value="8500">
                </div>
            </div>
        </div>

        <button class="ref-btn" onclick="vypocetRefsite()">Vypočítať úsporu</button>

        <div id="results" class="ref-results">
            <div class="results-summary">
                <div class="res-item">
                    <i class="fas fa-home"></i>
                    <span>Tepelná strata</span>
                    <b id="r_strata">0 kW</b>
                </div>
                <div class="res-item">
                    <i class="fas fa-coins"></i>
                    <span>Náklady Plyn</span>
                    <b id="r_gas">0 €/rok</b>
                </div>
                <div class="res-item">
                    <i class="fas fa-charging-station"></i>
                    <span>Náklady TČ</span>
                    <b id="r_tc">0 €/rok</b>
                </div>
                <div class="res-highlight">
                    <span>Vaša ročná úspora s TČ:</span>
                    <b id="r_save">0 €</b>
                    <p id="r_roi" style="margin-top:10px; font-size:14px; color:#555;">Návratnosť investície: - rokov</p>
                </div>
            </div>
            <p style="text-align:center; font-size:12px; color:#999; margin-top:20px;">
                Výpočet zahŕňa slovenskú sadzbu DPH 23 % platnú pre rok 2026.
            </p>
        </div>
    </div>
</div>

<script>
function vypocetRefsite() {
    // Vstupy
    const mwh = parseFloat(document.getElementById('mwh').value);
    const eff = parseFloat(document.getElementById('eff').value);
    const cop = parseFloat(document.getElementById('cop').value);
    const gasP = parseFloat(document.getElementById('gasP').value);
    const elecP = parseFloat(document.getElementById('elecP').value);
    const inv = parseFloat(document.getElementById('inv').value);

    // Výpočty (Refsite logika)
    const teploPotreba = mwh * eff; // Čistá energia potrebná na kúrenie
    const strata = (mwh * eff * 1000) / 2150; // Odhad straty v kW (priemer SR)
    
    const rocnePlyn = mwh * gasP;
    const rocneTC = (teploPotreba / cop) * elecP;
    const uspora = rocnePlyn - rocneTC;
    const navratnost = inv / uspora;

    // Zobrazenie
    document.getElementById('r_strata').innerText = strata.toFixed(1) + " kW";
    document.getElementById('r_gas').innerText = Math.round(rocnePlyn).toLocaleString() + " €";
    document.getElementById('r_tc').innerText = Math.round(rocneTC).toLocaleString() + " €";
    document.getElementById('r_save').innerText = Math.round(uspora).toLocaleString() + " € / rok";
    document.getElementById('r_roi').innerText = "Návratnosť investície: " + navratnost.toFixed(1) + " rokov";

    document.getElementById('results').style.display = 'block';
    document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
}
</script>

</body>
</html>
